<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Dashboard Empleado</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard_empleado.css') }}">
</head>

<body>

    <div class="container">
        <header class="header">
            <h1>
                Bienvenido/a {{ usuario.nombre }} !!!
                <span>(Empleado)</span>
            </h1>

            <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo" class="header-logo">
        </header>

        <nav class="nav">
            <a href="/dashboard_empleado" class="nav-link">Inicio</a>
            <a href="/ver_reservas" class="nav-link">Ver Reservas</a>
            <a href="/gestionar_habitaciones" class="nav-link">Habitaciones</a>
            <a href="/gestionar_servicios" class="nav-link">Servicios</a>
            <a href="/logout" class="nav-link logout">Cerrar SesiÃ³n</a>

            <button id="toggle-dark" class="nav-link nav-toggle" type="button">
                ðŸŒ™Modo oscuro
            </button>
        </nav>

        <main>
            <h2>Lista de habitaciones</h2>

            <table class="tabla">
                <thead>
                    <tr>
                        <th>ID Reserva</th>
                        <th>Cliente</th>
                        <th>HabitaciÃ³n</th>
                        <th>Desde</th>
                        <th>Hasta</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody>
                    {% for reserva in reservas %}
                    <tr>
                        <td>{{ reserva.id_reserva }}</td>
                        <td>{{ reserva.cliente.usuario.nombre }}</td>
                        <td>{{ reserva.habitacion.numero }} ({{ reserva.habitacion.tipo }})</td>
                        <td>{{ reserva.fecha_inicio.strftime('%Y-%m-%d') }}</td>
                        <td>{{ reserva.fecha_fin.strftime('%Y-%m-%d') }}</td>
                        <td class="estado{% if reserva.estado == 'Activa' %} activa{% elif reserva.estado == 'Finalizada' %} finalizada{% endif %}">
                            {{ reserva.estado }}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </main>
    </div>

    <script>
        const toggle = document.getElementById('toggle-dark');
        const body = document.body;

        if (localStorage.getItem('dark-mode') === 'true') {
            body.classList.add('dark');
        }

        toggle.addEventListener('click', () => {
            body.classList.toggle('dark');
            localStorage.setItem('dark-mode', body.classList.contains('dark'));
        });
    </script>

</body>

</html>

